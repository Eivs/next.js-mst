{"version":3,"sources":["webpack/bootstrap eb8c465e1139e3f60b3b","/home/fadiqua/nextjs-starter-antd/components/Layout/index.js","/home/fadiqua/nextjs-starter-antd/components/NProgress.js","/home/fadiqua/nextjs-starter-antd/components/NavBar/index.js","/home/fadiqua/nextjs-starter-antd/components/NavBar/index.scss","/home/fadiqua/nextjs-starter-antd/components/PageWithIntl.js","/home/fadiqua/nextjs-starter-antd/package.json","/home/fadiqua/nextjs-starter-antd/pages/login.js","/home/fadiqua/nextjs-starter-antd/services/Authenticate.js","/home/fadiqua/nextjs-starter-antd/stores/AuthStore.js","/home/fadiqua/nextjs-starter-antd/stores/LoginStore.js","/home/fadiqua/nextjs-starter-antd/stores/PostStore.js","/home/fadiqua/nextjs-starter-antd/stores/index.js","/home/fadiqua/nextjs-starter-antd/styles/main.scss","/home/fadiqua/nextjs-starter-antd/styles/nprogress.css","external \"antd/lib/button\"","external \"antd/lib/col\"","external \"antd/lib/dropdown\"","external \"antd/lib/form\"","external \"antd/lib/icon\"","external \"antd/lib/input\"","external \"antd/lib/layout\"","external \"antd/lib/locale-provider\"","external \"antd/lib/menu\"","external \"antd/lib/row\"","external \"axios\"","external \"babel-runtime/regenerator\"","external \"isomorphic-fetch\"","external \"mobx-react\"","external \"mobx-state-tree\"","external \"next/head\"","external \"next/link\"","external \"next/router\"","external \"nprogress\"","external \"prop-types\"","external \"react\"","external \"react-intl\"","external \"styled-jsx/style\"","external \"universal-cookie\""],"names":["Content","Layout","props","onChangeLanguage","lang","window","localStorage","setItem","location","href","state","bind","title","__html","styles","children","Component","configure","showSpinner","onRouteChangeStart","start","onRouteChangeComplete","done","onRouteChangeError","Header","NavBar","handleSignoutSubmit","_handleSignoutSubmit","event","preventDefault","authStore","store","cookies","set","pathname","path","signout","push","console","log","token","navigateMenu","lineHeight","isAuthenticated","module","exports","ReactIntlLocaleData","Object","keys","forEach","Page","authStatus","IntlPage","context","getInitialProps","req","res","query","isServer","init","force","session","authenticate","redirect","writeHead","Location","end","headers","cookie","initialState","locale","messages","antdLocale","now","FormItem","Item","Login","username","password","onInputChange","_onInputChange","handleLogin","_handleLogin","e","loginStore","tryLogin","setState","target","name","value","Authenticate","refreshToken","_getUserData","Promise","resolve","_getLocalStore","method","then","json","data","_saveLocalStore","credentials","response","ok","reject","Error","csrfToken","catch","_removeLocalStore","JSON","parse","getItem","err","stringify","removeItem","AuthStore","model","optional","string","views","self","actions","me","LoginStore","status","changeStatus","login","post","error","Post","id","identifier","number","userId","body","PostStore","isLoading","posts","map","markLoading","loading","updatePosts","put","loadPosts","get","sortBooks","books","filter","b","isAvailable","sort","a","initStore","Store","postStore","afterCreate","snapshot","create","alert","m"],"mappings":"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","file":"bundles/pages/login.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tvar threw = true;\n \t\ttry {\n \t\t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n \t\t\tthrew = false;\n \t\t} finally {\n \t\t\tif(threw) delete installedModules[moduleId];\n \t\t}\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap eb8c465e1139e3f60b3b","import React from 'react'\nimport PropTypes from 'prop-types'\nimport Router from 'next/router'\nimport Head from 'next/head'\nimport Link from 'next/link'\nimport { FormattedDate } from 'react-intl';\nimport { Layout as AntLayout } from 'antd';\nimport Cookies from 'universal-cookie'\n// project files\nimport Package from '../../package'\nimport PageWithIntl from '../PageWithIntl'\nimport NavBar from '../NavBar'\n// import NavBar from '../NavBar'\n\nimport mainStyles from '../../styles/main.scss';\n\nimport { inject, observer } from 'mobx-react'\n\n// import styles from 'styles/ant.less';\n\nconst { Content } = AntLayout;\n\n// @inject('store') @observer\n\nexport class Layout extends React.Component {\n  \n  constructor(props) {\n    super(props)\n    this.state = {\n    };\n\n    this.onChangeLanguage = this.onChangeLanguage.bind(this)\n  }\n\n  onChangeLanguage = (lang) => {\n    if(window) {\n      localStorage.setItem('locale', lang)\n      window.location.href = `${window.location.href}?lang=${lang}`\n    }\n  };\n\n  render() {\n    // console.log(this.context._documentProps.__NEXT_DATA__)\n    return (\n      <React.Fragment>\n\n        <Head>\n          <meta charSet=\"UTF-8\" />\n          <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"/>\n          <title>{this.props.title || 'Next.js Starter Project'}</title>\n          <style dangerouslySetInnerHTML={{ __html: styles }} />\n\n          <script src=\"https://cdn.polyfill.io/v2/polyfill.min.js\"/>\n        </Head>\n        {/*<style jsx global>{mainStyles}</style>*/}\n        <AntLayout>\n          <NavBar />\n          <Content>\n            {this.props.children}\n          </Content>\n        </AntLayout>\n      </React.Fragment>\n    )\n  }\n}\n\nexport default PageWithIntl(Layout)\n\n\n// WEBPACK FOOTER //\n// ./components/Layout/index.js","import React from \"react\";\nimport Head from \"next/head\";\nimport NProgress from \"nprogress\";\nimport Router from 'next/router'\n\nimport styles from '../styles/nprogress.css';\n\nNProgress.configure({ showSpinner: false });\n\n\nRouter.onRouteChangeStart = url => {\n  NProgress.start();\n};\n\nRouter.onRouteChangeComplete = () => NProgress.done();\nRouter.onRouteChangeError = () => NProgress.done();\n\nexport default () => (\n  <div>\n    {/*<Head>*/}\n      {/*/!* Import CSS for nprogress *!/*/}\n      {/*<link rel=\"stylesheet\" type=\"text/css\" href=\"/static/css/nprogress.css\" />*/}\n    {/*</Head>*/}\n    <style jsx global type=\"text/css\">{ styles }</style>\n  </div>\n);\n\n\n\n// WEBPACK FOOTER //\n// ./components/NProgress.js","import React, { Component } from 'react';\nimport Router from 'next/router'\nimport Head from 'next/head'\nimport Link from 'next/link'\nimport { Button, Layout, Dropdown, Menu, Icon } from 'antd';\nimport { inject, observer } from 'mobx-react';\nimport Cookies from 'universal-cookie'\n\nimport Authenticate from '../../services/Authenticate';\nimport styles from './index.scss';\n\nconst { Header } = Layout;\n\n@inject('store')\n@observer\nclass NavBar extends Component {\n  constructor(props) {\n    super(props);\n    this.handleSignoutSubmit = this._handleSignoutSubmit.bind(this)\n  }\n  async _handleSignoutSubmit(event) {\n    event.preventDefault();\n    const { authStore } = this.props.store;\n    // Save current URL so user is redirected back here after signing out\n    const cookies = new Cookies();\n    cookies.set('redirect_url', window.location.pathname, { path: '/' });\n    await Authenticate.signout();\n    authStore.signout();\n    Router.push('/')\n  }\n\n  render() {\n    const { authStore } = this.props.store;\n    console.log('token ', this.props.store.authStore.token)\n    const navigateMenu = (\n      <Menu>\n        <Menu.Item>\n          <a href={`//localhost:3000?lang=en`}>En</a>\n        </Menu.Item>\n        <Menu.Item>\n          <a href={`//localhost:3000?lang=ar`}>Ar</a>\n        </Menu.Item>\n        <Menu.Divider />\n        <Menu.Item>\n          <Link prefetch href=\"/login\">\n            <a href=\"/login\">Login</a>\n          </Link>\n        </Menu.Item>\n        <Menu.Item>\n          <Link prefetch href=\"/examples/protected\">\n            <a href=\"/examples/protected\">Protected</a>\n          </Link>\n        </Menu.Item>\n      </Menu>\n    )\n    return (\n      <Header>\n        <div className=\"logo\">\n          <Link prefetch href=\"/\">\n                <span>\n                  {'logo'}\n                </span>\n          </Link>\n        </div>\n        <Menu mode=\"horizontal\" theme=\"dark\" selectedKeys={[]} style={{ lineHeight: '64px' }}>\n          <Menu.Item key=\"123\">\n            <Dropdown overlay={navigateMenu}>\n              <a >\n                Examples <Icon type=\"down\" />\n              </a>\n            </Dropdown>\n          </Menu.Item>\n          { authStore.isAuthenticated &&\n          <Menu.Item key=\"logout\">\n              <a onClick={this.handleSignoutSubmit}>\n                logout\n              </a>\n          </Menu.Item>\n          }\n        </Menu>\n        <style jsx>{styles}</style>\n      </Header>\n    )\n  }\n}\n\nexport default NavBar;\n\n\n// WEBPACK FOOTER //\n// ./components/NavBar/index.js","module.exports = \".logo {\\n  height: 31px;\\n  color: white;\\n  float: left;\\n  margin-right: 32px;\\n  cursor: pointer; }\\n\"\n\n\n// WEBPACK FOOTER //\n// ./components/NavBar/index.scss","import Cookies from 'universal-cookie'\nimport Router from 'next/router'\nimport React, {Component} from 'react'\nimport {IntlProvider, addLocaleData, injectIntl} from 'react-intl'\nimport LocaleProvider from 'antd/lib/locale-provider';\nimport { Provider } from \"mobx-react\"\nimport { getSnapshot } from \"mobx-state-tree\"\nimport { initStore } from '../stores';\nimport Authenticate from '../services/Authenticate';\n\n// Register React Intl's locale data for the user's locale in the browser. This\n// locale data was added to the page by `pages/_document.js`. This only happens\n// once, on initial page load in the browser.\nif (typeof window !== 'undefined' && window.ReactIntlLocaleData) {\n  Object.keys(window.ReactIntlLocaleData).forEach((lang) => {\n      addLocaleData(window.ReactIntlLocaleData[lang])\n  })\n}\n\n// auth-required, so should redirect to login if not authenticated\n// no-auth-required, doesn't matter auth here\n// redirect-if-auth, redirect if to home page or profile page if is authenticated\n\n\nexport default (Page, authStatus='no-auth-required') => {\n  const IntlPage = injectIntl(Page)\n\n  return class PageWithIntl extends Component {\n    static async getInitialProps (context) {\n      let props\n      if (typeof Page.getInitialProps === 'function') {\n        props = await Page.getInitialProps(context)\n      }\n      // Get the `locale` and `messages` from the request object on the server.\n      // In the browser, use the same values that the server serialized.\n      const { req, res, query } = context;\n      const isServer = !!req;\n      let session = await Authenticate.init({\n        req: req, force: true\n      });\n\n      const store = initStore(isServer);\n\n      if(session.token) {\n        store.authStore.authenticate(session)\n      }\n      let redirect = authStatus === 'auth-required' && !session.token ?\n        '/login' : authStatus === 'redirect-if-auth' && session.token ?\n          '/' : null;\n      if(redirect !== null) {\n        if (isServer && res) {\n          res.writeHead(302, { Location: redirect })\n          res.end()\n        } else {\n          Router.push(redirect)\n        }\n      }\n\n      if (query.redirect) {\n        const cookies = new Cookies((req && req.headers.cookie) ? req.headers.cookie : null)\n        cookies.set('redirect_url', query.redirect, { path: '/' })\n      }\n\n      return {...props, isServer, session, initialState: getSnapshot(store)}\n    }\n\n    constructor (props) {\n      super(props)\n      this.store = initStore(props.isServer, props.initialState)\n    }\n\n    render () {\n      const {locale, messages, antdLocale, now, ...props} = this.props\n\n      return (\n        <LocaleProvider locale={antdLocale}>\n          <IntlProvider locale={locale || 'en'} messages={messages} initialNow={now}>\n            <Provider store={this.store}>\n              <IntlPage {...props} />\n            </Provider>\n          </IntlProvider>\n        </LocaleProvider>\n      )\n    }\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./components/PageWithIntl.js","module.exports = {\"name\":\"andreas-test\",\"version\":\"5.2.0\",\"description\":\"A starter Next.js project\",\"author\":\"Fadi quader\",\"license\":\"ISC\",\"main\":\"index.js\",\"dependencies\":{\"antd\":\"^3.2.0\",\"autoprefixer\":\"^7.2.6\",\"axios\":\"^0.18.0\",\"babel-core\":\"^6.26.0\",\"babel-loader\":\"^7.1.2\",\"babel-plugin-wrap-in-js\":\"^1.1.1\",\"connect-mongo\":\"^2.0.1\",\"cookie-parser\":\"^1.4.3\",\"css-loader\":\"^0.28.9\",\"dotenv\":\"^5.0.0\",\"express\":\"^4.16.2\",\"express-session\":\"^1.15.6\",\"intl\":\"^1.2.5\",\"isomorphic-fetch\":\"^2.2.1\",\"less\":\"^2.7.3\",\"less-loader\":\"^4.0.5\",\"lusca\":\"^1.5.2\",\"mobx\":\"^3.5.1\",\"mobx-react\":\"^4.4.2\",\"mobx-state-tree\":\"^1.3.1\",\"next\":\"^5.0.0\",\"nprogress\":\"^0.2.0\",\"passport\":\"^0.4.0\",\"passport-facebook\":\"^2.1.1\",\"passport-google-oauth\":\"^1.0.0\",\"passport-twitter\":\"^1.0.4\",\"popper.js\":\"^1.12.3\",\"raw-loader\":\"^0.5.1\",\"react\":\"^16.2.0\",\"react-dom\":\"^16.2.0\",\"react-intl\":\"^2.4.0\",\"universal-cookie\":\"^2.1.2\"},\"devDependencies\":{\"babel-plugin-dynamic-import-node\":\"^1.2.0\",\"babel-plugin-import\":\"^1.6.3\",\"babel-plugin-inline-dotenv\":\"^1.1.2\",\"babel-plugin-module-resolver\":\"^3.0.0\",\"babel-plugin-react-intl\":\"^2.4.0\",\"babel-plugin-transform-decorators-legacy\":\"^1.3.4\",\"babel-plugin-transform-inline-environment-variables\":\"^0.3.0\",\"babel-polyfill\":\"^6.26.0\",\"babel-preset-es2015\":\"^6.24.1\",\"babel-preset-es2016\":\"^6.24.1\",\"babel-preset-stage-0\":\"^6.24.1\",\"babel-preset-stage-2\":\"^6.24.1\",\"babel-register\":\"^6.26.0\",\"eslint\":\"^4.5.0\",\"eslint-config-xo\":\"^0.18.2\",\"eslint-config-xo-react\":\"^0.13.0\",\"eslint-config-xo-space\":\"^0.16.0\",\"eslint-plugin-react\":\"^7.3.0\",\"extract-text-webpack-plugin\":\"^3.0.2\",\"ignore-loader\":\"^0.1.2\",\"mobx-devtools-mst\":\"^0.9.9\",\"node-sass\":\"^4.7.2\",\"postcss-cssnext\":\"^3.1.0\",\"postcss-easy-import\":\"^3.0.0\",\"postcss-loader\":\"^2.1.0\",\"precss\":\"^3.1.0\",\"sass-loader\":\"^6.0.6\",\"style-loader\":\"^0.19.1\",\"styled-jsx-css-loader\":\"^0.3.0\",\"styled-jsx-plugin-sass\":\"^0.2.3\",\"webpack\":\"3.10.0\",\"webpack-bundle-analyzer\":\"^2.11.1\",\"xo\":\"^0.18.2\"},\"optionalDependencies\":{\"fsevents\":\"*\"},\"scripts\":{\"test\":\"xo\",\"clean\":\"rm -rf .next/static\",\"dev\":\"NODE_ENV=development PORT=3000 node server/bootstrap.js\",\"build\":\"npm run clean && next build  && node ./scripts/default-lang.js\",\"start\":\"node server/bootstrap.js\",\"postinstall\":\"next build \"},\"engines\":{\"node\":\"7.x.x\"},\"xo\":{\"space:\":2,\"semicolon\":false,\"extends\":[\"xo-space\",\"xo-react/space\"],\"ignores\":[\"next.config.js\"]},\"now\":{\"name\":\"nextjs-starter\",\"alias\":\"nextjs-starter.now.sh\"}}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./package.json\n// module id = ./package.json\n// module chunks = 0","import Link from 'next/link'\nimport React from 'react'\nimport { inject, observer } from 'mobx-react';\nimport { Row, Col, Form, Input, Button } from 'antd';\n\n// import Page from '../components/page'\nimport Layout from '../components/Layout'\nimport NProgress from '../components/NProgress'\n// import Home from '../components/Home';\nimport pageWithIntl from '../components/PageWithIntl';\n\nconst FormItem = Form.Item;\n\n@inject('store')\n@observer\nclass Login extends React.Component {\n\n  constructor() {\n    super();\n    this.state = {\n      username: '',\n      password: ''\n    };\n    this.onInputChange = this._onInputChange.bind(this);\n    this.handleLogin = this._handleLogin.bind(this);\n  }\n  componentWillMount() {\n\n  }\n  _handleLogin(e) {\n    e.preventDefault();\n    const { loginStore } = this.props.store;\n    loginStore.tryLogin(this.state)\n  }\n\n  _onInputChange(e) {\n    this.setState({\n      [e.target.name]: e.target.value\n    })\n  }\n\n  render() {\n    const { loginStore } = this.props.store;\n    return (\n      <Layout {...this.props}>\n        <NProgress />\n        <div className=\"container\">\n          <div>\n            <a href=\"http://localhost:3000/auth/oauth/facebook\">Continue with FB</a>\n          </div>\n          <Row>\n            <Col span={12}>\n              <Form  method=\"post\" action=\"/api/login\" onSubmit={this.handleLogin}>\n                <FormItem>\n                  <Input name=\"username\" onChange={this.onInputChange} />\n                </FormItem>\n                <FormItem>\n                  <Input name=\"password\" onChange={this.onInputChange} />\n                </FormItem>\n                <FormItem>\n                  <Button htmlType=\"submit\">Login</Button>\n                </FormItem>\n              </Form>\n            </Col>\n          </Row>\n        </div>\n      </Layout>\n    )\n  }\n}\n\n\nexport default pageWithIntl(Login, 'redirect-if-auth')\n\n\n// WEBPACK FOOTER //\n// ./pages/login.js","import fetch from 'isomorphic-fetch'\nimport axios from 'axios';\n\nexport default class Authenticate {\n  static init({ req, force }) {\n    if(req) {\n      if(req.session && req.session.token) {\n        const { token, refreshToken } = req.session;\n        return this._getUserData(token);\n      }\n      return new Promise((resolve) => {\n        resolve({})\n      })\n    }\n    else if(typeof window !== 'undefined') {\n      const token = this._getLocalStore('token');\n      const refreshToken = this._getLocalStore('refreshToken');\n      if(token) {\n        return this._getUserData(token);\n      }\n      return new Promise((resolve) => {\n        resolve({})\n      })\n    }\n  }\n  static _getUserData(token, refreshToken) {\n    return fetch('http://localhost:3000/api/me', {\n      method: 'GET',\n      headers: {\n        \"Content-Type\": \"application/json\",\n        'x-token': token,\n        'x-refresh-token': null,\n      },\n    })\n      .then(res => res.json())\n      .then(data => {\n        if(data && data.token) {\n          if(typeof window !== 'undefined')\n            this._saveLocalStore('token', data.token);\n          return data\n        }\n        return {}\n      })\n  }\n\n  static async csrfToken() {\n    return fetch('/auth/csrf', {\n      credentials: 'same-origin'\n    })\n      .then(response => {\n        if (response.ok) {\n          return response\n        } else {\n          return Promise.reject(Error('Unexpected response when trying to get CSRF token'))\n        }\n      })\n      .then(response => response.json())\n      .then(data => data.csrfToken)\n      .catch(() => Error('Unable to get CSRF token'))\n  }\n\n  static async signout() {\n    // Signout from the server\n    // const csrfToken = await this.csrfToken()\n    // const formData = { _csrf: csrfToken }\n\n    // Encoded form parser for sending data in the body\n    // const encodedForm = Object.keys(formData).map((key) => {\n    //   return encodeURIComponent(key) + '=' + encodeURIComponent(formData[key])\n    // }).join('&')\n\n    // Remove cached session data\n    this._removeLocalStore('token');\n    // this._removeLocalStore('refreshToken');\n    return fetch('http://localhost:3000/api/signout', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded'\n      },\n      // body: encodedForm,\n      credentials: 'same-origin'\n    })\n      .then(() => {\n        return true\n      })\n      .catch(() => Error('Unable to sign out'))\n  }\n\n  static _getLocalStore(name) {\n    // return localStorage.getItem(name) || null\n    try {\n      return JSON.parse(localStorage.getItem(name))\n    } catch (err) {\n      return null\n    }\n  }\n\n  static _saveLocalStore(name, data) {\n    // localStorage.setItem(name, data)\n    try {\n      localStorage.setItem(name, JSON.stringify(data))\n      return true\n    } catch (err) {\n      return false\n    }\n  }\n\n  static _removeLocalStore(name) {\n    try {\n      localStorage.removeItem(name)\n      return true\n    } catch (err) {\n      return false\n    }\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./services/Authenticate.js","import { types, getParent, flow } from \"mobx-state-tree\"\nimport axios from 'axios';\n\nexport const AuthStore = types\n  .model(\"AuthStore\", {\n    isAuthenticated: false,\n    token: types.optional(types.string, ''),\n    username: types.optional(types.string, ''),\n  })\n  .views(self => ({\n    get store() {\n      return getParent(self)\n    }\n  }))\n  .actions(self => ({\n    authenticate(data) {\n      self.isAuthenticated = true;\n      self.token = data.token;\n      self.username = data.me.username\n    },\n    signout() {\n      self.isAuthenticated = false;\n      self.token = '';\n      self.username = '';\n    }\n  }));\n\n\n// WEBPACK FOOTER //\n// ./stores/AuthStore.js","import { types, getParent, flow } from \"mobx-state-tree\"\nimport axios from 'axios';\n\nexport const LoginStore = types\n  .model(\"PostStore\", {\n    status: 'pending',\n    username: types.optional(types.string, ''),\n    password: types.optional(types.string, ''),\n  })\n  .views(self => ({\n    get store() {\n      return getParent(self)\n    }\n  }))\n  .actions(self => ({\n    changeStatus(status) {\n      self.status = status\n    },\n    tryLogin: flow(function* login({ username, password }) {\n      try {\n        console.log('username ', username, 'password ', password)\n        const res = yield axios.post(\"/api/login\", {\n          username,\n          password\n        });\n        localStorage.setItem('token', res.data.token)\n        // self.store.authStore.authenticate(res.data)\n      } catch (err) {\n        console.error(\"Failed to login \", err)\n      }\n    }),\n  }));\n\n\n// WEBPACK FOOTER //\n// ./stores/LoginStore.js","import { types, getParent, flow } from \"mobx-state-tree\"\nimport axios from 'axios';\n\nexport const Post = types.model(\"Post\", {\n  id: types.identifier(types.number),\n  // id: types.number,\n  userId: types.number,\n  title: types.string,\n  body: types.string\n})\n\nexport const PostStore = types\n  .model(\"PostStore\", {\n    isLoading: false,\n    posts: types.map(Post)\n    // posts: types.array(Post)\n  })\n  .views(self => ({\n    get store() {\n      return getParent(self)\n    }\n  }))\n  .actions(self => ({\n    markLoading(loading) {\n      self.isLoading = loading\n    },\n    updatePosts(data) {\n      data.forEach(post => {\n        if(typeof post.userId === 'string') return;\n        self.posts.put(post)\n      })\n    },\n    loadPosts: flow(function* loadPosts() {\n      try {\n        // self.markLoading(true);\n        const res = yield axios.get(\"https://jsonplaceholder.typicode.com/posts\");\n        self.updatePosts(res.data)\n        self.markLoading(false);\n      } catch (err) {\n        console.error(\"Failed to load posts \", err)\n      }\n    }),\n  }));\n\nfunction sortBooks(books) {\n  return books\n    .filter(b => b.isAvailable)\n    .sort((a, b) => (a.name > b.name ? 1 : a.name === b.name ? 0 : -1))\n}\n\n\n// WEBPACK FOOTER //\n// ./stores/PostStore.js","import { types, applySnapshot, getEnv } from \"mobx-state-tree\"\nimport { PostStore } from \"./PostStore\"\nimport { LoginStore } from \"./LoginStore\"\nimport { AuthStore } from \"./AuthStore\"\n\nlet store = null\nexport const Store = types\n  .model('Store', {\n    postStore: types.optional(PostStore, {\n      posts: {}\n      // posts: []\n    }),\n    name: 'fadi quader',\n    loginStore: types.optional(LoginStore, {}),\n    authStore: types.optional(AuthStore, {}),\n  })\n  .views(self => ({\n    // get isLoading() {\n    //   return self.bookStore.isLoading\n    // },\n    // get posts() {\n    //   return self.postStore.posts\n    // }\n  }))\n  .actions(self => ({\n    afterCreate() {\n      self.postStore.loadPosts()\n    }\n  }));\n\n\n// const Store = types\n//   .model({\n//     lastUpdate: types.Date,\n//     light: false\n//   })\n//   .actions((self) => {\n//     let timer\n//     function start () {\n//       timer = setInterval(() => {\n//         // mobx-state-tree doesn't allow anonymous callbacks changing data\n//         // pass off to another action instead\n//         self.update()\n//       }, 1000)\n//     }\n//\n//     function update () {\n//       self.lastUpdate = Date.now()\n//       self.light = true\n//     }\n//\n//     function stop () {\n//       clearInterval(timer)\n//     }\n//\n//     return { start, stop, update }\n//   })\n\nexport function initStore(isServer, snapshot = null) {\n  // const fetcher = url => fetch(url).then(response => response.json());\n  if(isServer) {\n    store = Store.create(\n      {},\n      {\n        // fetch: fetcher,\n        alert: m => console.log(m) // Noop for demo: window.alert(m)\n      }\n    )\n  }\n  if(store === null) {\n    store = Store.create(\n      {},\n      {\n        // fetch: fetcher,\n        alert: m => console.log(m) // Noop for demo: window.alert(m)\n      }\n    )\n  }\n  if (snapshot) {\n    applySnapshot(store, snapshot)\n  }\n  return store\n}\n\n\n\n// WEBPACK FOOTER //\n// ./stores/index.js","module.exports = \".text-center {\\n  text-align: center; }\\n\\n.container {\\n  margin: 0 auto;\\n  width: 80%;\\n  max-width: 1200px; }\\n\\n@media screen and (max-width: 768px) {\\n  .container {\\n    width: 90%; } }\\n\"\n\n\n// WEBPACK FOOTER //\n// ./styles/main.scss","module.exports = \"/* Make clicks pass-through */\\n#nprogress {\\n  pointer-events: none;\\n}\\n#nprogress .bar {\\n  background: #29d;\\n\\n  position: fixed;\\n  z-index: 1031;\\n  top: 0;\\n  left: 0;\\n\\n  width: 100%;\\n  height: 2px;\\n}\\n/* Fancy blur effect */\\n#nprogress .peg {\\n  display: block;\\n  position: absolute;\\n  right: 0px;\\n  width: 100px;\\n  height: 100%;\\n  -webkit-box-shadow: 0 0 10px #29d, 0 0 5px #29d;\\n          box-shadow: 0 0 10px #29d, 0 0 5px #29d;\\n  opacity: 1.0;\\n\\n  -webkit-transform: rotate(3deg) translate(0px, -4px);\\n      -ms-transform: rotate(3deg) translate(0px, -4px);\\n          transform: rotate(3deg) translate(0px, -4px);\\n}\\n/* Remove these to get rid of the spinner */\\n#nprogress .spinner {\\n  display: block;\\n  position: fixed;\\n  z-index: 1031;\\n  top: 15px;\\n  right: 15px;\\n}\\n#nprogress .spinner-icon {\\n  width: 18px;\\n  height: 18px;\\n  -webkit-box-sizing: border-box;\\n          box-sizing: border-box;\\n\\n  border: solid 2px transparent;\\n  border-top-color: #29d;\\n  border-left-color: #29d;\\n  border-radius: 50%;\\n\\n  -webkit-animation: nprogress-spinner 400ms linear infinite;\\n          animation: nprogress-spinner 400ms linear infinite;\\n}\\n.nprogress-custom-parent {\\n  overflow: hidden;\\n  position: relative;\\n}\\n.nprogress-custom-parent #nprogress .spinner,\\n.nprogress-custom-parent #nprogress .bar {\\n  position: absolute;\\n}\\n@-webkit-keyframes nprogress-spinner {\\n  0%   { -webkit-transform: rotate(0deg); }\\n  100% { -webkit-transform: rotate(360deg); }\\n}\\n@keyframes nprogress-spinner {\\n  0%   { -webkit-transform: rotate(0deg); transform: rotate(0deg); }\\n  100% { -webkit-transform: rotate(360deg); transform: rotate(360deg); }\\n}\\n\\n\"\n\n\n// WEBPACK FOOTER //\n// ./styles/nprogress.css","module.exports = require(\"antd/lib/button\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"antd/lib/button\"\n// module id = antd/lib/button\n// module chunks = 0","module.exports = require(\"antd/lib/col\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"antd/lib/col\"\n// module id = antd/lib/col\n// module chunks = 0","module.exports = require(\"antd/lib/dropdown\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"antd/lib/dropdown\"\n// module id = antd/lib/dropdown\n// module chunks = 0","module.exports = require(\"antd/lib/form\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"antd/lib/form\"\n// module id = antd/lib/form\n// module chunks = 0","module.exports = require(\"antd/lib/icon\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"antd/lib/icon\"\n// module id = antd/lib/icon\n// module chunks = 0","module.exports = require(\"antd/lib/input\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"antd/lib/input\"\n// module id = antd/lib/input\n// module chunks = 0","module.exports = require(\"antd/lib/layout\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"antd/lib/layout\"\n// module id = antd/lib/layout\n// module chunks = 0","module.exports = require(\"antd/lib/locale-provider\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"antd/lib/locale-provider\"\n// module id = antd/lib/locale-provider\n// module chunks = 0","module.exports = require(\"antd/lib/menu\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"antd/lib/menu\"\n// module id = antd/lib/menu\n// module chunks = 0","module.exports = require(\"antd/lib/row\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"antd/lib/row\"\n// module id = antd/lib/row\n// module chunks = 0","module.exports = require(\"axios\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"axios\"\n// module id = axios\n// module chunks = 0","module.exports = require(\"babel-runtime/regenerator\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-runtime/regenerator\"\n// module id = babel-runtime/regenerator\n// module chunks = 0 1","module.exports = require(\"isomorphic-fetch\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"isomorphic-fetch\"\n// module id = isomorphic-fetch\n// module chunks = 0","module.exports = require(\"mobx-react\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"mobx-react\"\n// module id = mobx-react\n// module chunks = 0","module.exports = require(\"mobx-state-tree\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"mobx-state-tree\"\n// module id = mobx-state-tree\n// module chunks = 0","module.exports = require(\"next/head\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"next/head\"\n// module id = next/head\n// module chunks = 0 2","module.exports = require(\"next/link\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"next/link\"\n// module id = next/link\n// module chunks = 0 2","module.exports = require(\"next/router\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"next/router\"\n// module id = next/router\n// module chunks = 0","module.exports = require(\"nprogress\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"nprogress\"\n// module id = nprogress\n// module chunks = 0","module.exports = require(\"prop-types\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"prop-types\"\n// module id = prop-types\n// module chunks = 0","module.exports = require(\"react\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react\"\n// module id = react\n// module chunks = 0 1 2","module.exports = require(\"react-intl\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-intl\"\n// module id = react-intl\n// module chunks = 0","module.exports = require(\"styled-jsx/style\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"styled-jsx/style\"\n// module id = styled-jsx/style\n// module chunks = 0","module.exports = require(\"universal-cookie\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"universal-cookie\"\n// module id = universal-cookie\n// module chunks = 0"],"sourceRoot":""}